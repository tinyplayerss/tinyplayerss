<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <script
      src="https://kit.fontawesome.com/739e3ae0dc.js"
      crossorigin="anonymous"
    ></script>
    <!-- Add this script tag in the <head> section of your HTML -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <title>tinyplayerss Github Profile</title>
  </head>
  <body>
    <div class="container">
      <div class="profile-section">
        <img
          src="https://avatars.githubusercontent.com/u/123846642?v=4"
          alt="Profile Image"
          class="profile-image"
        />
        <h2 class="github-username">tinyplayerss</h2>
      </div>

      <header>
        <h1>About Me</h1>
        <p>A passionate frontend developer from South Africa</p>
      </header>

      <section class="techlanguages">
        <h2>Languages & Tech</h2>
        <ul class="languagescolumn">
          <li><i class="fab fa-html5"></i></li>
          <li><i class="fab fa-css3-alt"></i></li>
          <li><i class="fab fa-bootstrap"></i></li>
        </ul>
      </section>

      <section class="github-activities">
        <h2>GitHub Activities</h2>
        <div id="github-activities-container">
          <!-- GitHub activities will be displayed here -->
        </div>
      </section>

      <section class="projects">
        <h2>My Projects</h2>
        <div class="project-grid">
          <!-- Project 1 -->
          <div class="project">
            <a
              href="https://github.com/tinyplayerss/gitlinks"
              target="_blank"
              class="buttonlink"
              >Go to Project</a
            >
            <a
              href="https://tinyplayerss.github.io/gitlinks"
              target="_blank"
              class="buttonlink"
              >Website</a
            >
            <h3>GitLinks</h3>
            <p>
              This is a linktree Project that can be Forked and be used by many
              Streamers/Creators
            </p>
          </div>

          <!-- Project 2 -->
          <div class="project">
            <a
              href="https://github.com/tinyplayerss/CustomBAR"
              target="_blank"
              class="buttonlink"
              >Go to Project</a
            >
            <a
              href="https://tinyplayerss.github.io/CustomBAR"
              target="_blank"
              class="buttonlink"
              >Website</a
            >
            <h3>CustomBAR</h3>
            <p>
              This is a customizable progress bar used for Twitch Streamers,
              Rumble Streamers, and Streamers in general!
            </p>
          </div>

          <!-- Project 3 -->
          <div class="project">
            <a
              href="https://github.com/tinyplayerss/RUM-Slides"
              target="_blank"
              class="buttonlink"
              >Go to Project</a
            >
            <h3>RUM-Slides</h3>
            <p>
              Enhance your streaming experience with RUM-Slides, a versatile
              image overlay solution designed for content creators. This project
              leverages HTML, CSS, and JavaScript to create a dynamic overlay
              card featuring a slideshow of images. Tailored for streamers.
            </p>
          </div>

          <!-- Project 4 -->
          <div class="project">
            <a
              href="https://github.com/tinyplayerss/RUM-Color"
              target="_blank"
              class="buttonlink"
              >Go to Project</a
            >
            <a
              href="https://tinyplayerss.github.io/RUM-Color"
              target="_blank"
              class="buttonlink"
              >Website</a
            >
            <h3>RUM-Color</h3>
            <p>
              RUM-Color is a Website hosted on Github Pages, It's a Tool thats
              Designed for Rumble Creators/Streamers to be able to Match there
              Content Consistently, Across there Content, This Tool is Free to
              use for Any Commercial Purposes.
            </p>
          </div>

          <!-- Add more projects as needed -->
        </div>
      </section>

      <section class="contact-form">
        <h2>Contact Me</h2>
        <form
          action="mailto:tinyplayerss@gmail.com?subject=Github-job-contact"
          method="post"
          enctype="text/plain"
        >
          <label for="name">Name:</label>
          <input
            placeholder="Name"
            type="text"
            id="name"
            name="name"
            required
          />

          <label for="email">Email:</label>
          <input
            placeholder="You@example.com"
            type="email"
            id="email"
            name="email"
            required
          />

          <label for="message">Message:</label>
          <textarea
            placeholder="Hello,
      
I'm [Your Name], a skilled web developer specializing in HTML, CSS, and Bootstrap. I am excited about the prospect of contributing my expertise to your web project.
                  
To ensure that your digital venture achieves its full potential, please share the details and goals of your project. By collaborating, we can transform your vision into a standout online presence.
                  
I am eager to discuss how my skills align with your needs and contribute to the success of your project. Looking forward to the opportunity to work with you.
                  
Best regards,
                  
[Your Name]"
            id="message"
            name="message"
            rows="4"
            required
          ></textarea>

          <button type="submit" class="buttonlink">Send Message</button>
        </form>
      </section>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const username = "tinyplayerss";
          const apiUrl = `https://api.github.com/users/${username}/events`;

          // Set to store unique event IDs
          const uniqueEventIds = new Set();

          fetch(apiUrl)
            .then((response) => response.json())
            .then(async (data) => {
              // Sort events by timestamp in descending order
              data.sort(
                (a, b) => new Date(b.created_at) - new Date(a.created_at)
              );

              const githubActivitiesContainer = document.getElementById(
                "github-activities-container"
              );

              // Helper function to fetch commit count for a repository
              const getCommitCount = async (repo) => {
                const commitsUrl = `https://api.github.com/repos/${repo}/commits`;
                const commits = await fetch(commitsUrl).then((response) =>
                  response.json()
                );
                return commits.length;
              };

              data.slice(0, 3).forEach(async (activity) => {
                // Check if the event ID is unique
                if (!uniqueEventIds.has(activity.id)) {
                  uniqueEventIds.add(activity.id);

                  const activityElement = document.createElement("div");
                  activityElement.classList.add("activity");

                  const profileImageElement = document.createElement("img");
                  const usernameElement = document.createElement("p");
                  const typeElement = document.createElement("p");
                  const timestampElement = document.createElement("p");
                  const repoElement = document.createElement("a");
                  const commitCountElement = document.createElement("p");

                  // Map GitHub event type to a color
                  const eventTypeToColor = {
                    PushEvent: "#28a745", // Green color for Push events
                    PullRequestEvent: "#e83e8c", // PinkRed color for Pull Requests
                    MergeEvent: "#6f42c1", // Purple color for Merged events
                    // Add more event types and colors as needed
                  };

                  const color = eventTypeToColor[activity.type] || "#ffffff"; // Default color

                  profileImageElement.src =
                    activity.actor && activity.actor.avatar_url
                      ? activity.actor.avatar_url
                      : "";
                  profileImageElement.alt =
                    activity.actor && activity.actor.login
                      ? `Profile Image of ${activity.actor.login}`
                      : "Profile Image";

                  // Apply circular styling to the profile image
                  profileImageElement.style.borderRadius = "50%";
                  profileImageElement.style.width = "24px"; // Adjust the size as needed
                  profileImageElement.style.height = "24px"; // Adjust the size as needed

                  usernameElement.textContent =
                    activity.actor && activity.actor.login
                      ? `(${activity.actor.login})`
                      : "";

                  // Format timestamp to a more readable format
                  const formattedTimestamp = new Date(
                    activity.created_at
                  ).toLocaleString();

                  typeElement.style.color = color;
                  timestampElement.style.color = "#8b949e"; // GitHub text-secondary color
                  repoElement.style.color = "#8b949e"; // GitHub text-secondary color
                  commitCountElement.style.color = "#8b949e"; // GitHub text-secondary color

                  typeElement.innerHTML = `<i class="fas fa-bolt"></i> ${activity.type.replace(
                    "Event",
                    ""
                  )}`;
                  timestampElement.innerHTML = `<i class="fas fa-clock"></i> ${formattedTimestamp}`;
                  repoElement.innerHTML = `<i class="fab fa-github"></i> ${activity.repo.name}`;
                  repoElement.href = `https://github.com/${activity.repo.name}`;
                  repoElement.target = "_blank";
                  commitCountElement.innerHTML = `<i class="fas fa-code"></i> Commits: ${await getCommitCount(
                    activity.repo.name
                  )}`;

                  activityElement.appendChild(profileImageElement);
                  activityElement.appendChild(usernameElement);
                  activityElement.appendChild(typeElement);
                  activityElement.appendChild(timestampElement);
                  activityElement.appendChild(repoElement);
                  activityElement.appendChild(commitCountElement);

                  githubActivitiesContainer.appendChild(activityElement);
                }
              });
            })
            .catch((error) =>
              console.error("Error fetching GitHub activities:", error)
            );
        });
      </script>

      <footer>
        <p>Connect with me on GitHub:</p>
        <a href="https://github.com/tinyplayerss" target="_blank">
          <i class="fab fa-github"></i> tinyplayerss
        </a>
      </footer>
    </div>
  </body>
</html>
